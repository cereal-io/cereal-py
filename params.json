{
  "name": "cereal-py",
  "tagline": "Convert Google Protocol Buffers (.proto), Apache Avro (.avsc), and Apache Thrift (.thrift) files to their counterparts.",
  "body": "# cereal-py [![Build Status](https://img.shields.io/travis/cereal-io/cereal-py/master.svg?style=flat-square)](https://travis-ci.org/cereal-io/cereal-py) ![GitHub tag](https://img.shields.io/github/tag/cereal-io/cereal-py.svg?style=flat-square&label=version) ![GitHub tag](https://img.shields.io/badge/style-pep8-7bcdea.svg?style=flat-square)\r\n\r\nThe purpose of this module is to convert [Google Protocol Buffer](https://developers.google.com/protocol-buffers/) files, [Apache Avro](https://avro.apache.org/) files, and [Apache Thrift](https://thrift.apache.org/) files to their counterparts.\r\n\r\n# Quickstart\r\n\r\nThe following example demonstrates how to convert a Google Protocol Buffer file to an Apache Avro file:\r\n\r\nGiven that the input file is `helloworld.proto`:\r\n\r\n```protobuf\r\nmessage HelloRequest {\r\n  string name = 1;\r\n}\r\n\r\nmessage HelloReply {\r\n  string message = 1;\r\n}\r\n```\r\n\r\n```python\r\n>>> from cereal import build\r\n>>> svc = build('./examples/helloworld.proto')\r\n>>> print(svc.to_avro())\r\n[\r\n    {\r\n        \"type\": \"record\",\r\n        \"name\": \"HelloRequest\",\r\n        \"fields\": [\r\n            {\r\n                \"type\": \"string\",\r\n                \"name\": \"name\"\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"type\": \"record\",\r\n        \"name\": \"HelloReply\",\r\n        \"fields\": [\r\n            {\r\n                \"type\": \"string\",\r\n                \"name\": \"message\"\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nThe `svc` object is an instance of the `Protobuf` class that contains a method called `.to_avro()`. This returns a serialized JSON string that serves as the contents for a `.avsc` file.\r\n\r\nConverting a `.avsc` file to a `.proto` file uses a similar process:\r\n\r\n```python\r\n>>> from cereal import build\r\n>>> svc = build('./examples/helloworld.avsc')\r\n>>> print(svc.to_protobuf())\r\nmessage HelloRequest {\r\n    string name = 1;\r\n}\r\n\r\nmessage HelloReply {\r\n    string message = 1;\r\n}\r\n```\r\n\r\n# Protocol Buffers Enumerated Types\r\n\r\nGiven the following protocol buffer message:\r\n\r\n```protobuf\r\n// search.proto\r\nmessage SearchRequest {\r\n  string query = 1;\r\n  int32 page_number = 2;\r\n  int32 result_per_page = 3;\r\n  enum Corpus {\r\n    UNIVERSAL = 0;\r\n    WEB = 1;\r\n    IMAGES = 2;\r\n    LOCAL = 3;\r\n    NEWS = 4;\r\n    PRODUCTS = 5;\r\n    VIDEO = 6;\r\n  }\r\n  Corpus corpus = 4;\r\n}\r\n```\r\n\r\n`cereal` converts enumerated types into the format defined in the [Avro specification](https://avro.apache.org/docs/current/spec.html#Enums):\r\n\r\n```python\r\n>>> from cereal import build\r\n>>> svc = build('./examples/search.proto')\r\n>>> print(svc.to_avro())\r\n[\r\n    {\r\n        \"type\": \"record\",\r\n        \"name\": \"SearchRequest\",\r\n        \"fields\": [\r\n            {\r\n                \"type\": \"string\",\r\n                \"name\": \"query\"\r\n            },\r\n            {\r\n                \"type\": \"int\",\r\n                \"name\": \"page_number\"\r\n            },\r\n            {\r\n                \"type\": \"int\",\r\n                \"name\": \"result_per_page\"\r\n            },\r\n            {\r\n                \"type\": \"enum\",\r\n                \"name\": \"Corpus\",\r\n                \"symbols\": [\r\n                    \"UNIVERSAL\",\r\n                    \"WEB\",\r\n                    \"IMAGES\",\r\n                    \"LOCAL\",\r\n                    \"NEWS\",\r\n                    \"PRODUCTS\",\r\n                    \"VIDEO\"\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}